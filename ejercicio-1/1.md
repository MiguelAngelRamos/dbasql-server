Crea una carpeta en tu disco local para almacenar los archivos .mdf y .ldf
Ejemplo: C:\SQLDataServer\DemoBase\

```sql
-- üí° Este comando elimina la base si ya exist√≠a
-- Solo debes usarlo en entornos de prueba, porque borra todo
DROP DATABASE IF EXISTS DemoBase;
GO

-- üèóÔ∏è Creaci√≥n de la base de datos
CREATE DATABASE DemoBase
ON PRIMARY  -- PRIMARY es el grupo principal de archivos
(
    NAME = DemoBase_Data,  -- Nombre l√≥gico que SQL Server usar√° internamente
    FILENAME = 'C:\SQLDataServer\DemoBase\DemoBase_Data.mdf',  -- Archivo f√≠sico principal
    SIZE = 10MB,         -- Tama√±o inicial del archivo .mdf
    MAXSIZE = 100MB,     -- Tama√±o m√°ximo que puede alcanzar
    FILEGROWTH = 5MB     -- Crece de 5MB en 5MB cuando se llena
)
LOG ON  -- Parte del archivo de transacciones
(
    NAME = DemoBase_Log,
    FILENAME = 'C:\SQLDataServer\DemoBase\DemoBase_Log.ldf',
    SIZE = 5MB,
    MAXSIZE = 50MB,
    FILEGROWTH = 5MB
);
GO

```

```sql
-- Muestra los archivos que forman parte de la base de datos
USE DemoBase;
GO

SELECT
    name AS Nombre_Logico,
    physical_name AS Ruta_Archivo,
    type_desc AS Tipo,
    size * 8 / 1024 AS Tamano_MB,
    growth * 8 / 1024 AS Incremento_MB
FROM sys.database_files;



-- üìò Informaci√≥n general de la base de datos
EXEC sp_helpdb DemoBase;

-- üìò Informaci√≥n de los archivos asociados a esta base
EXEC sp_helpfile;
```

```sql
CREATE TABLE Productos (
    ID INT PRIMARY KEY,
    Nombre NVARCHAR(100)
);

INSERT INTO Productos VALUES (1, 'Notebook'), (2, 'Impresora');

SELECT * FROM Productos;


```
## Tarea sugerida

1. Cambia la base para que tenga un archivo `.ndf` adicional y crea un nuevo filegroup.
2. Inserta una tabla en el nuevo filegroup (¬ørecuerdas c√≥mo hacerlo? ).
3. Usa `DBCC SHRINKFILE` para ver qu√© ocurre con el tama√±o de un archivo.

## Soluci√≥n

```sql
-- A√±ade un grupo l√≥gico de archivos llamado FG_DatosExtra
ALTER DATABASE DemoBase
ADD FILEGROUP FG_DatosExtra;
GO

-- Crea un nuevo archivo f√≠sico y lo asigna al filegroup anterior
ALTER DATABASE DemoBase
ADD FILE (
    NAME = DemoBase_Extra,  -- Nombre l√≥gico
    FILENAME = 'C:\SQLDataServer\DemoBase\DemoBase_Extra.ndf',  -- Archivo real en disco
    SIZE = 5MB,
    MAXSIZE = 50MB,
    FILEGROWTH = 5MB
)
TO FILEGROUP FG_DatosExtra;
GO
```

## Crear una tabla en ese filegroup

```sql
-- Crea una tabla en el filegroup FG_DatosExtra (que ahora es el predeterminado)
CREATE TABLE ClientesImportantes (
    ID INT PRIMARY KEY,
    Nombre NVARCHAR(100)
);
GO

INSERT INTO ClientesImportantes VALUES (1, 'Banco Chile'), (2, 'Gobierno de Chile');
SELECT * FROM ClientesImportantes;
```

---

## üõ†Ô∏è Paso 5: Verificar que la tabla est√° en el archivo `.ndf`

```sql
-- Consulta interna para ver en qu√© filegroup est√° cada tabla
SELECT 
    o.name AS Tabla,
    i.data_space_id,
    fg.name AS FileGroup
FROM sys.indexes i
JOIN sys.objects o ON i.object_id = o.object_id
JOIN sys.filegroups fg ON i.data_space_id = fg.data_space_id
WHERE o.type = 'U'  -- U = User table
AND o.name = 'ClientesImportantes';
```